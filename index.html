  <!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<title>Kirti Creations — Lokesh Chhalani</title>
<meta name="description" content="Kirti Creations digital card — Lokesh Chhalani — Managing Director" />
<style>
  :root{ --accent:#f70404; --black:#0b0b0b; --muted:#444; }

  *{box-sizing:border-box}
  html,body{
    height:100%; margin:0;
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background:linear-gradient(180deg,#fffefe,#979595);
    color:var(--black);
    overscroll-behavior:contain; overflow:hidden;
  }
  body{ padding: env(safe-area-inset-top) env(safe-area-inset-right)
                 env(safe-area-inset-bottom) env(safe-area-inset-left); }

  .wrap{ width:100vw; height:100dvh; display:flex; align-items:center; justify-content:center; }

  /* Screen-fit card (no scroll) */
  .card{
    width:min(94vw, 520px);
    height:min(88vh, 780px);
    border-radius:18px;
    border:1px solid rgba(0,0,0,.06);
    background:#ffffff;
    box-shadow:5px 8px 40px rgba(0,0,0,.08);
    display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
    padding:14px 14px 10px; gap:10px; overflow:hidden;
  }

  /* Logo */
  .logo-frame{
    width: clamp(200px, 100vw, 350px);
    aspect-ratio:1/1;
    border-radius:0;
    display:flex; align-items:center; justify-content:center;
    background: radial-gradient(ellipse at center, rgba(0,0,0,.0) 0%, rgba(0,0,0,0) 60%);
    position:relative; overflow:hidden;
  }
  .logo-frame::after{
    content:""; position:absolute; inset:-8% -40%;
    background:linear-gradient(120deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.18) 45%,rgba(255,255,255,.6) 50%,rgba(255,255,255,0) 55%,rgba(255,255,255,0) 100%);
    transform: translateX(-120%) skewX(-18deg);
    animation: shine 3.2s cubic-bezier(.25,.8,.25,1) infinite; pointer-events:none;
  }
  @keyframes shine{0%{transform:translateX(-120%) skewX(-18deg)}100%{transform:translateX(120%) skewX(-18deg)}}
  img.logo{max-width:86%; max-height:86%; display:block; object-fit:contain}

  /* Name + title — simple border */
  .name-box{
    text-align:center;
    background:#ffffff;
    border-radius:14px;
    padding:12px 14px;
    width:86%;
    border:1px solid rgba(0,0,0,.08);
    box-shadow:0 10px 22px rgba(0,0,0,.06);
  }
  .name{font-weight:900; font-size:21px; margin:0; letter-spacing:.25px}
  .title{font-size:13.5px; margin:4px 0 0; color:var(--muted); font-weight:800; letter-spacing:.2px}

  /* tagline */
.company-msg{
  font-size:14px; font-weight:800;
  color:#0b0b0b; background:#ffffff;
  padding:8px 12px; border-radius:11px;
  border:0.1px solid rgba(189, 35, 35, 0.5);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-family: 'Inter', system-ui, sans-serif;
}

  .company-msg .reveal{ display:inline-block; transform:translateY(10px); opacity:0; animation:revealUp .8s ease forwards; }
  @keyframes revealUp{to{transform:translateY(0);opacity:1}}

  /* quick icons */
  .icon-row{display:flex; gap:12px; margin-top:6px; flex-wrap:wrap; justify-content:center}
  .icon{
    width:50px; height:50px; border-radius:12px; background:#ffffff;
    display:flex; align-items:center; justify-content:center;
    border:1px solid rgba(0,0,0,.5);
    box-shadow:0 10px 26px rgba(0,0,0,.06);
    transition:transform .18s, box-shadow .18s; cursor:pointer;
  }
  .icon img{width:30px;height:30px}
  .icon:active{ transform:scale(.98) }
  .icon:hover{ transform: translateY(-6px) scale(1.03); box-shadow:0 18px 44px rgba(0,0,0,.12) }

  .actions-col{display:flex; flex-direction:column; gap:10px; width:88%}
  .big-btn{
    display:flex; align-items:center; gap:10px; justify-content:center; padding:11px 12px; border-radius:12px;
    font-weight:800; text-decoration:none; min-height:46px; transition: transform .12s, box-shadow .12s;
  }
  .big-btn.primary{ background:var(--accent); color:#fff; box-shadow:0 12px 30px rgba(247,4,4,.12); border:none }
  .big-btn.ghost{ background:#fff; color:#0b0b0b; border:1px solid rgba(0,0,0,.5); box-shadow:0 8px 20px rgba(0,0,0,.3) }
  .big-btn img{width:18px;height:18px}
  .big-btn:hover{ transform: translateY(-4px); box-shadow:0 16px 40px rgba(0,0,0,.12) }

  /* socials */
  .socials{display:flex; gap:14px; justify-content:center; margin-top:4px}
  .socials .s{
    width:48px; height:48px; border-radius:10px; background:#fff; padding:7px;
    display:inline-flex; align-items:center; justify-content:center;
    border:1px solid rgba(0,0,0,.5); box-shadow:5px 11px 19px rgba(0,0,0,.3); transition:transform .12s
  }
  .socials .s img{width:26px;height:26px}
  .socials .s:hover{ transform: translateY(-5px) }

  .gst{margin-top:6px; text-align:center; font-weight:800; color:var(--muted); font-size:12px; padding-top:8px; border-top:1px dashed rgba(0,0,0,.06)}

  /* modal */
  .backdrop{position:fixed; inset:0; background:rgba(0,0,0,.48); display:none; align-items:center; justify-content:center; z-index:9999}
  .dialog{background:#fff; padding:14px; border-radius:12px; width:94%; max-width:420px; box-shadow:0 24px 60px rgba(0,0,0,.5)}
  .row{display:flex; gap:8px; margin:10px 0}
  .row .btn{padding:10px 12px; border-radius:10px; border:none; font-weight:800; cursor:pointer}
  .btn.primary{background:#f70404; color:#fff}
  .btn.ghost{background:#ffffff; border:1px solid rgba(0,0,0,.5)}

  @media (prefers-reduced-motion: reduce){
    .card, .icon, .big-btn, .socials .s { transition:none !important }
    .logo-frame::after{ animation:none }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Kirti Creations digital card">
      <!-- logo -->
      <div class="logo-frame"><img src="images/logo.png" alt="Kirti Creations logo" class="logo" /></div>

      <!-- name + title -->
      <div class="name-box">
        <div class="name">Lokesh Chhalani</div>
        <div class="title">Managing Director</div>
      </div>

      <!-- tagline -->
     <span class="company-msg">Embroidery &amp; Textile Design — Quality</span>

      <!-- quick icons -->
      <div class="icon-row">
        <div class="icon" id="callIcon" title="Call"><img src="images/ccall.png" alt="call" onerror="this.src='images/call.png'"/></div>
        <div class="icon" id="locIcon" title="Location"><img src="images/location.png" alt="location"/></div>
        <div class="icon" id="waIcon" title="WhatsApp"><img src="images/whatsapp.png" alt="whatsapp"/></div>
        <div class="icon" id="mailIcon" title="Mail"><img src="images/mail.png" alt="mail"/></div>
        <div class="icon" id="webIcon" title="Website"><img src="images/web.png" alt="web"/></div>
      </div>

      <!-- actions -->
      <div class="actions-col">
        <a class="big-btn primary" id="saveContactBtn" href="#"><img src="images/contact.png" alt="save" /> Save Contact</a>
        <!-- QR icon now uses root file qr.jpg -->
        <a class="big-btn ghost" id="qrOpenBtn" href="#"><img src="qr.jpg" alt="qr" /> Show QR / Share</a>
      </div>

      <!-- socials -->
      <div class="socials">
       <a class="s" id="sInstagram" title="Instagram" href="https://www.instagram.com/kirti.creations.art/" target="_blank">
  <img src="images/inst.jpg" alt="ig">
</a>

        <div class="s" id="sFacebook" title="Facebook"><img src="images/fac.png" alt="fb"></div>
        <div class="s" id="sLinkedin" title="LinkedIn"><img src="images/link.png" alt="li"></div>
        <div class="s" id="tgIcon" title="Telegram"><img src="images/tel.png" alt="telegram"></div>
      </div>

      <div class="gst">GST No. 24ADKPN2120R1ZC</div>
    </div>
  </div>

  <!-- QR modal -->
  <div id="qrModal" class="backdrop" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true">
      <h3 style="margin:0">Scan or share QR</h3>
      <div style="text-align:center; margin-top:10px;">
        <!-- root path qr.jpg -->
        <img id="qrImg" src="qr.jpg" alt="QR code" style="max-width:260px; width:70%; height:auto" onerror="this.style.display='none'"/>
      </div>
      <div class="row" style="justify-content:flex-end">
        <button id="shareQr" class="btn primary">Share</button>
        <button id="closeQr" class="btn ghost">Close</button>
      </div>
    </div>
  </div>

  <!-- One modal to capture name (used by WA & QR sharing) -->
  <div id="nameModal" class="backdrop" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true">
      <h3 style="margin:0 0 8px 0">Your Name</h3>
      <div class="row" style="gap:8px">
        <input id="userNameInput" placeholder="e.g. Rahul Sharma" style="flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.1)" />
      </div>
      <div class="row" style="justify-content:flex-end">
        <button id="nameCancel" class="btn ghost">Cancel</button>
        <button id="nameOk" class="btn primary">Continue</button>
      </div>
    </div>
  </div>

<script>
/* ===== zoom lock ===== */
['gesturestart','gesturechange','gestureend'].forEach(evt=>document.addEventListener(evt,e=>e.preventDefault(),{passive:false}));
let lastTouchEnd=0; document.addEventListener('touchend',e=>{const n=Date.now(); if(n-lastTouchEnd<=300){e.preventDefault()} lastTouchEnd=n;},{passive:false});
document.addEventListener('wheel',e=>{ if(e.ctrlKey||e.metaKey){e.preventDefault()} },{passive:false});
window.addEventListener('load',()=>{ setTimeout(()=>window.scrollTo(0,1),150); });

/* ===== UI feedback ===== */
document.querySelectorAll('.icon, .big-btn, .s').forEach(el=>{
  el.addEventListener('pointerdown', ()=> el.style.transform='translateY(2px) scale(.995)');
  el.addEventListener('pointerup',   ()=> el.style.transform='');
  el.addEventListener('pointerleave',()=> el.style.transform='');
});

/* ===== Contact info ===== */
const CONTACT={
  fn:'Lokesh Chhalani',
  tel:'+919099963239',
  email:'lokeshchhalani@gmail.com',
  org:'Kirti Creations',
  title:'Managing Director',
  url:'https://kirti.cc/',
  address:'Kirti Creations, F-128-129 Laxmi Narayan industrial park, BRC compound, Udhana, Surat, Gujarat 394210',
  photoPath:'images/logo.png'
};

/* ---------- Name storage helper ---------- */
let pendingAction = null; // callback
const NAME_KEY = 'kc_user_name';
const nameModal = document.getElementById('nameModal');
const nameInput = document.getElementById('userNameInput');

function ensureNameAnd(callback){
  const saved = localStorage.getItem(NAME_KEY);
  if(saved && saved.trim()){
    callback(saved.trim());
  } else {
    pendingAction = callback;
    nameInput.value = '';
    nameModal.style.display='flex'; nameModal.setAttribute('aria-hidden','false');
  }
}

document.getElementById('nameCancel').addEventListener('click',()=>{
  nameModal.style.display='none'; nameModal.setAttribute('aria-hidden','true');
});
document.getElementById('nameOk').addEventListener('click',()=>{
  const v=(nameInput.value||'').trim();
  if(v){ localStorage.setItem(NAME_KEY, v); }
  nameModal.style.display='none'; nameModal.setAttribute('aria-hidden','true');
  if(typeof pendingAction === 'function'){ pendingAction(v || ''); pendingAction=null; }
});

/* ---------- Save Contact (.vcf) ---------- */
async function saveContactVcf(){
  let photoB64='';
  try{
    const resp=await fetch(CONTACT.photoPath); const blob=await resp.blob();
    const buf=await blob.arrayBuffer(); const bytes=new Uint8Array(buf);
    let bin=''; for(let i=0;i<bytes.byteLength;i++){ bin+=String.fromCharCode(bytes[i]); }
    photoB64=btoa(bin);
  }catch(e){}

  const lines=[
    'BEGIN:VCARD','VERSION:3.0',
    'FN:'+CONTACT.fn,
    'N:'+CONTACT.fn.split(' ').slice(-1).join('')+';'+CONTACT.fn.split(' ').slice(0,-1).join(' ')+';;;',
    'ORG:'+CONTACT.org,'TITLE:'+CONTACT.title,
    'TEL;TYPE=CELL,VOICE:'+CONTACT.tel,
    'EMAIL;TYPE=INTERNET;TYPE=WORK:'+CONTACT.email,
    'URL:'+CONTACT.url,
    'ADR;TYPE=WORK:;;'+CONTACT.address.replace(/\n/g,' ')+';;;',
    (photoB64 ? 'PHOTO;ENCODING=b;TYPE=PNG:'+photoB64 : null),
    'NOTE:Embroidery & Textile Design — Kirti Creations','END:VCARD'
  ].filter(Boolean).join('\r\n');

  const blob=new Blob([lines],{type:'text/vcard;charset=utf-8'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a'); a.href=url; a.download='Lokesh_Chhalani.vcf'; document.body.appendChild(a); a.click(); a.remove();
  setTimeout(()=>URL.revokeObjectURL(url),1500);
  try{ navigator.vibrate && navigator.vibrate(30);}catch(e){}
}

document.getElementById('saveContactBtn').addEventListener('click',e=>{e.preventDefault(); saveContactVcf();});

/* ---------- Quick actions ---------- */
document.getElementById('callIcon').addEventListener('click',()=> location.href='tel:'+CONTACT.tel);
document.getElementById('locIcon').addEventListener('click',()=> window.open('https://maps.app.goo.gl/UzFL7CHn1MtZNGX38','_blank'));
document.getElementById('mailIcon').addEventListener('click',()=> location.href=('mailto:'+lokeshchhalani@gmail.com));
document.getElementById('webIcon').addEventListener('click',()=> window.open(CONTACT.url,'_blank'));

/* ---------- WhatsApp (one-time name, stored) ---------- */
const WA_NUMBER='919099963239';
function openWA(name){
const msg = `Hi, my name is "${name||'User'}", I am talking with you about Embroidery Design and Creations.`;

  window.open(`https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(msg)}`,'_blank');
}
document.getElementById('waIcon').addEventListener('click',()=>{
  ensureNameAnd(openWA);
});

/* ---------- QR modal + Share: uses root qr.jpg and saved name ---------- */
const qrModal=document.getElementById('qrModal');
document.getElementById('qrOpenBtn').addEventListener('click',e=>{
  e.preventDefault(); qrModal.style.display='flex'; qrModal.setAttribute('aria-hidden','false');
});
document.getElementById('closeQr').addEventListener('click',()=>{
  qrModal.style.display='none'; qrModal.setAttribute('aria-hidden','true');
});

async function shareQrWithName(name){
  try{
    const resp=await fetch('qr.jpg', {cache:'reload'}); if(!resp.ok) throw 0;
    const blob=await resp.blob(); const file=new File([blob],'kirti-qr.jpg',{type:blob.type});
    const shareText = `Hi, my name is "${name||'User'}". This is the Digital Business Card of Lokesh Chhalani (Kirti Creations).`;
    if(navigator.canShare && navigator.canShare({files:[file]})){
      await navigator.share({ files:[file], title:'Kirti Creations — Digital Business Card', text:shareText });
    } else if (navigator.share){
      await navigator.share({ title:'Kirti Creations — Digital Business Card', text:shareText });
    } else {
      const url=URL.createObjectURL(blob); window.open(url,'_blank'); setTimeout(()=>URL.revokeObjectURL(url),2000);
    }
  }catch{ alert('QR not found. Keep file at ./qr.jpg'); }
}
document.getElementById('shareQr').addEventListener('click',()=>{ ensureNameAnd(shareQrWithName); });

/* ---------- Telegram ---------- */
document.getElementById('tgIcon').addEventListener('click',()=>{
  const deep='tg://resolve?domain=lokeshchhalani'; const web='https://t.me/lokeshchhalani';
  const a=document.createElement('a'); a.href=deep; document.body.appendChild(a); a.click(); a.remove();
  setTimeout(()=> window.open(web,'_blank'), 400);
});

/* socials bounce */
['sInstagram','sFacebook','sLinkedin','tgIcon'].forEach(id=>{
  const el=document.getElementById(id); if(!el) return;
  el.addEventListener('click',()=>{ el.style.transform='scale(.96)'; setTimeout(()=>el.style.transform='',120); });
});
</script>
</body>
</html>
