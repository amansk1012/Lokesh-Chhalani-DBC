 <!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<!-- FULLSCREEN + ZOOM LOCK + SAFE-AREA -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<title>Kirti Creations — Lokesh Chhalani</title>
<meta name="description" content="Kirti Creations digital visiting card — Lokesh Chhalani — Managing Director" />

<!-- iOS PWA hints -->
<meta name="theme-color" content="#f70404">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icons/icon-192.png" />

<style>
  :root{
    --accent:#f70404; --black:#0b0b0b; --muted:#444; --gap:25px;
  }
  *{box-sizing:border-box}
  html,body{
    height:100%; margin:0;
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background:linear-gradient(180deg,#fffefe,#979595);
    color:var(--black);
    overscroll-behavior:contain;
    overflow:hidden; /* page scroll band */
  }
  body{
    padding: env(safe-area-inset-top) env(safe-area-inset-right)
             env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* FULLSCREEN WRAP */
  .wrap{
    width:100vw; height:100dvh; height:100svh;
    display:flex; align-items:center; justify-content:center;
  }

  /* CARD: aapka look, screen-fit */
  .card{
    width:min(96vw, 520px);
    height:min(92dvh, 840px);
    border-radius:18px;
    border:1px solid rgba(255,255,255,.09);
    padding:18px;
    background:linear-gradient(180deg,#ffffff,#ffffff);
    box-shadow:0 24px 46px rgba(0,0,0,.10);
    transition: transform .22s ease, box-shadow .20s ease;
    overflow:auto; -webkit-overflow-scrolling:touch;
    display:flex; flex-direction:column; align-items:stretch;
  }
  .card:hover{ box-shadow:0 48px 90px rgba(97,88,88,.18) }

  /* ---------- logo ---------- */
  .logo-wrap{display:flex; justify-content:center; align-items:center; margin:5px 0 var(--gap)}
  .logo-frame{
    width: clamp(220px, 70vw, 380px);
    aspect-ratio: 1 / 1; max-width:100%;
    border-radius:18px;
    display:flex; align-items:center; justify-content:center;
    background: radial-gradient(ellipse at center, rgba(255,255,255,.06) 0%, rgba(255,255,255,.02) 60%);
    border:3px solid rgba(255,255,255,.08);
    box-shadow:0 10px 28px rgba(247,4,4,.04);
    position:relative; overflow:hidden;
  }
  .logo-frame .shine{
    position:absolute; inset:-10% -40%; pointer-events:none;
    background:linear-gradient(120deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.15) 45%,rgba(255,255,255,.55) 50%,rgba(255,255,255,.15) 55%,rgba(255,255,255,0) 100%);
    transform: translateX(-120%) skewX(-18deg);
    animation: sweep 3.6s cubic-bezier(.25,.8,.25,1) infinite;
    will-change: transform;
  }
  @keyframes sweep{0%{transform:translateX(-120%) skewX(-18deg)}100%{transform:translateX(120%) skewX(-18deg)}}
  img.logo{max-width:86%; max-height:86%; height:auto; display:block; object-fit:contain}
  @media (prefers-reduced-motion: reduce){
    .logo-frame .shine{ animation:none; opacity:0 }
    .card, .icon, .big-btn, .socials .s { transition:none !important }
  }

  /* ---------- name box ---------- */
  .name-box{
    margin:10px auto 6px;
    padding:14px 16px;
    background:#fff;
    border-radius:12px;
    box-shadow:0 12px 30px rgba(0,0,0,.06);
    border:1px solid rgba(0,0,0,.04);
    max-width:84%;
    text-align:center;
  }
  .name{font-weight:900; font-size:20px; margin:0}
  .title{font-size:13px; margin:6px 0 0; color:var(--muted); font-weight:700}

  .company-msg{ margin-top:12px; font-size:13px; color:var(--muted); text-align:center; white-space:nowrap; max-width:92%; letter-spacing:.6px; overflow:hidden; display:inline-block;}
  .company-msg .reveal{ display:inline-block; transform:translateY(10px); opacity:0; animation:revealUp 900ms ease forwards; animation-delay:300ms}
  @keyframes revealUp{to{ transform:translateY(0); opacity:1 }}
  .company-msg:hover .reveal, .company-msg:focus .reveal{ animation:revealUp 600ms ease forwards, glow 1.6s ease-in-out .2s infinite alternate }
  @keyframes glow{from{filter:drop-shadow(0 0 0 rgba(0,0,0,0))} to{filter:drop-shadow(0 4px 18px rgba(214,40,40,.06))}}

  .icon-row{display:flex; justify-content:center; gap:12px; margin:16px 0; flex-wrap:wrap}
  .icon{width:60px; height:60px; border-radius:12px; background:#fff; display:flex; align-items:center; justify-content:center;
    border:1px solid rgba(0,0,0,.06); box-shadow:0 10px 26px rgba(0,0,0,.06); transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s ease; cursor:pointer; }
  .icon img{width:30px;height:30px;object-fit:contain}
  .icon:active{ transform:scale(.98) }
  .icon:hover{ transform: translateY(-8px) scale(1.03); box-shadow:0 22px 58px rgba(0,0,0,.14) }

  .actions-col{display:flex; flex-direction:column; gap:12px; align-items:stretch; margin:6px 0 14px}
  .big-btn{ display:inline-flex; align-items:center; gap:10px; justify-content:center; padding:12px 16px; border-radius:12px; font-weight:800; text-decoration:none; min-height:48px; transition: transform .12s ease, box-shadow .12s ease; width:100%; }
  .big-btn.primary{ background:var(--accent); color:#fff; box-shadow:0 12px 30px rgba(247,4,4,.12); border:none }
  .big-btn.ghost{ background:#fff; color:#0b0b0b; border:1px solid rgba(0,0,0,.06); box-shadow:0 8px 20px rgba(0,0,0,.06) }
  .big-btn img{width:18px;height:18px;display:block}
  .big-btn:hover{ transform: translateY(-6px); box-shadow:0 18px 44px rgba(0,0,0,.12) }

  .socials{display:flex; gap:10px; justify-content:center; margin-top:6px}
  .socials .s{width:36px; height:36px; border-radius:8px; background:#fff; padding:6px; display:inline-flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(0,0,0,.06); transition:transform .12s ease}
  .socials .s img{width:20px;height:20px}
  .socials .s:hover{ transform: translateY(-6px) }

  .gst{margin-top:18px; text-align:center; font-weight:700; color:var(--muted); font-size:12px; padding-top:12px; border-top:1px dashed rgba(0,0,0,.04)}

  @media (max-width:420px){
    .name{font-size:18px}
    .icon{width:52px;height:52px}
    .socials .s{width:32px;height:32px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Kirti Creations digital card">
      <!-- logo -->
      <div class="logo-wrap">
        <div class="logo-frame" aria-hidden="true">
          <div class="shine"></div>
          <img src="images/logo.png" alt="Kirti Creations logo" class="logo" />
        </div>
      </div>

      <!-- framed name/title -->
      <div class="name-box" role="group" aria-label="Person">
        <div class="name">Lokesh Chhalani</div>
        <div class="title">Managing Director</div>
      </div>

      <!-- animated company msg -->
      <div class="company-msg" tabindex="0" aria-live="polite">
        <span class="reveal">Embroidery &amp; Textile Design — Quality &amp; Craftsmanship</span>
      </div>

      <!-- quick icons -->
      <div class="icon-row" role="list" aria-label="Quick actions">
        <div class="icon" id="callIcon" title="Call"><img src="images/call.png" alt="call"/></div>
        <div class="icon" id="locIcon" title="Location"><img src="images/location.png" alt="location"/></div>
        <div class="icon" id="waIcon" title="WhatsApp"><img src="images/whatsapp.png" alt="whatsapp"/></div>
        <div class="icon" id="mailIcon" title="Mail"><img src="images/mail.png" alt="mail"/></div>
        <div class="icon" id="webIcon" title="Website"><img src="images/web.png" alt="web"/></div>
      </div>

      <!-- actions -->
      <div class="actions-col">
        <a class="big-btn primary"
           id="saveDirect"
           href="data:text/vcard;charset=utf-8,BEGIN%3AVCARD%0AVERSION%3A3.0%0AFN%3ALokesh%20Chhalani%0ATITLE%3AManaging%20Director%0AORG%3AKirti%20Creations%0ATEL%3A9099963239%0AEMAIL%3Alokeshchhalani%40gmail.com%0AADR%3AF12B%20Brc%20Industry%2C%20Udhna%20Surat%20394210%0AURL%3Ahttps%3A%2F%2Fkirti.cc%2F%0AEND%3AVCARD"
           download="LokeshChhalani.vcf"
           title="Download contact (vCard)">
          <img src="images/contact.png" alt="save" /> Save Contact
        </a>

        <a class="big-btn ghost" id="qrOpenBtn" href="#" title="Show QR / Share">
          <img src="images/location.png" alt="qr" /> Show QR / Share
        </a>
      </div>

      <!-- socials -->
      <div class="socials" aria-hidden="false" style="margin-top:6px;">
        <div class="s" id="sInstagram" title="Instagram"><img src="images/inst.jpg" alt="ig"></div>
        <div class="s" id="sFacebook" title="Facebook"><img src="images/fac.png" alt="fb"></div>
        <div class="s" id="sLinkedin" title="LinkedIn"><img src="images/link.png" alt="li"></div>
        <div class="s" id="sTelegram" title="Telegram"><img src="images/tel.png" alt="tg"></div>
      </div>

      <div class="gst">GST No. 24ADKPN2120R1ZC</div>
    </div>
  </div>

  <!-- QR modal -->
  <div id="qrModal" class="modal-backdrop" aria-hidden="true" style="position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; z-index:999">
    <div class="modal" role="dialog" aria-modal="true" style="background:#fff; padding:14px; border-radius:10px; width:92%; max-width:520px; box-shadow:0 24px 60px rgba(0,0,0,.2)">
      <h3 style="margin-top:0">Scan or share QR</h3>
      <div style="text-align:center;">
        <img id="qrImg" src="qr.png" alt="QR code" style="max-width:260px; width:70%; height:auto" onerror="this.style.display='none'"/>
      </div>
      <div class="modal actions" style="margin-top:12px; display:flex; gap:10px; justify-content:flex-end">
        <button id="shareQr" style="padding:10px 12px; border-radius:8px; border:none; cursor:pointer; font-weight:700; background:#f70404; color:#fff">Share QR</button>
        <button id="closeQr" style="padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,.06); background:#fff; cursor:pointer; font-weight:700">Close</button>
      </div>
    </div>
  </div>

<script>
/* ---------------- Zoom Lock + URL bar collapse best-effort ---------------- */
['gesturestart','gesturechange','gestureend'].forEach(evt=>{
  document.addEventListener(evt, e=> e.preventDefault(), {passive:false});
});
let lastTouchEnd=0;
document.addEventListener('touchend', e=>{
  const now=Date.now();
  if(now-lastTouchEnd<=300){ e.preventDefault(); }
  lastTouchEnd=now;
}, {passive:false});
document.addEventListener('wheel', e=>{
  if(e.ctrlKey || e.metaKey){ e.preventDefault(); }
}, {passive:false});
window.addEventListener('load', ()=>{ setTimeout(()=>window.scrollTo(0,1), 150); });

/* ---------------- UI small interactions (as-is) ---------------- */
document.querySelectorAll('.icon, .big-btn, .s').forEach(el=>{
  el.addEventListener('pointerdown', ()=> el.style.transform = 'translateY(2px) scale(.995)');
  el.addEventListener('pointerup', ()=> el.style.transform = '');
  el.addEventListener('pointerleave', ()=> el.style.transform = '');
});
const reveal = document.querySelector('.company-msg .reveal');
document.querySelector('.company-msg').addEventListener('focus', ()=> {
  reveal.style.animation='none'; void reveal.offsetWidth; reveal.style.animation='revealUp 600ms ease forwards';
});
const qrModal = document.getElementById('qrModal');
document.getElementById('qrOpenBtn').addEventListener('click', (e)=>{ e.preventDefault(); qrModal.style.display='flex'; qrModal.setAttribute('aria-hidden','false'); });
document.getElementById('closeQr').addEventListener('click', ()=>{ qrModal.style.display='none'; qrModal.setAttribute('aria-hidden','true'); });
document.getElementById('saveDirect').addEventListener('click', ()=>{ try{ navigator.vibrate && navigator.vibrate(30); }catch(e){} });
document.getElementById('shareQr').addEventListener('click', async ()=>{
  try{
    const resp = await fetch('qr.png');
    if(!resp.ok) throw new Error('qr missing');
    const blob = await resp.blob();
    const file = new File([blob],'qr.png',{type:blob.type});
    if(navigator.canShare && navigator.canShare({files:[file]})){
      await navigator.share({files:[file], title:'Kirti Creations QR'});
    } else {
      const url = URL.createObjectURL(blob);
      window.open(url,'_blank'); setTimeout(()=> URL.revokeObjectURL(url), 2000);
    }
  }catch(err){ alert('QR image not found — please upload qr.png'); }
});
document.getElementById('callIcon').addEventListener('click', ()=> location.href='tel:+919099963239');
document.getElementById('locIcon').addEventListener('click', ()=> window.open('https://maps.app.goo.gl/UzFL7CHn1MtZNGX38','_blank'));
document.getElementById('waIcon').addEventListener('click', ()=> window.open('https://wa.me/919099963239','_blank'));
document.getElementById('mailIcon').addEventListener('click', ()=> location.href='mailto:lokesh@kirti.cc');
document.getElementById('webIcon').addEventListener('click', ()=> window.open('https://kirti.cc/','_blank'));
['sInstagram','sFacebook','sLinkedin','sTelegram'].forEach(id=>{
  const el=document.getElementById(id); if(!el) return;
  el.addEventListener('click', ()=>{ el.style.transform='scale(.96)'; setTimeout(()=>el.style.transform='',120); });
});
window.addEventListener('load', ()=>{ if(reveal){ reveal.style.animation='none'; void reveal.offsetWidth; reveal.style.animation='revealUp 900ms ease forwards'; } });

/* ---------------- Inline Manifest (Blob) + Inline Service Worker (Blob) ---------------- */
(function setupPWA(){
  // 1) Manifest as Blob (all-in-one)
  const manifest = {
    "name": "Kirti Creations — Lokesh Chhalani",
    "short_name": "Kirti Creations",
    "description": "Digital business card — Kirti Creations",
    "start_url": "./",
    "scope": "./",
    "display": "standalone",
    "orientation": "portrait",
    "background_color": "#ffffff",
    "theme_color": "#f70404",
    "icons": [
      {"src":"icons/icon-192.png","sizes":"192x192","type":"image/png"},
      {"src":"icons/icon-512.png","sizes":"512x512","type":"image/png"}
    ]
  };
  const manBlob = new Blob([JSON.stringify(manifest)], {type:'application/manifest+json'});
  const manURL = URL.createObjectURL(manBlob);
  const link = document.createElement('link');
  link.rel = 'manifest'; link.href = manURL;
  document.head.appendChild(link);

  // 2) Service Worker code as Blob (cache + offline)
  const swCode = `
    const CACHE='kirti-card-v1';
    const ASSETS=[
      './','./index.html','./manifest.webmanifest',
      './images/logo.png',
      './images/call.png','./images/location.png','./images/whatsapp.png','./images/mail.png','./images/web.png',
      './images/inst.jpg','./images/fac.png','./images/link.png','./images/tel.png',
      './qr.png'
    ];
    self.addEventListener('install',e=>{
      e.waitUntil(caches.open(CACHE).then(c=>c.addAll(ASSETS)).catch(()=>{}));
      self.skipWaiting();
    });
    self.addEventListener('activate',e=>{ e.waitUntil(self.clients.claim()); });
    self.addEventListener('fetch',e=>{
      e.respondWith(
        caches.match(e.request).then(r=> r || fetch(e.request)).catch(()=>caches.match('./'))
      );
    });
  `;
  if('serviceWorker' in navigator){
    const swURL = URL.createObjectURL(new Blob([swCode], {type:'text/javascript'}));
    navigator.serviceWorker.register(swURL).catch(()=>{});
  }
})();

/* ---------------- First user tap par fullscreen try (where supported) ---------------- */
(function enableFirstTapFullscreen(){
  function reqFS(){
    const el = document.documentElement;
    const fn = el.requestFullscreen || el.webkitRequestFullscreen || el.msRequestFullscreen;
    if(fn) try{ fn.call(el); }catch(e){}
    document.removeEventListener('click', reqFS);
    document.removeEventListener('touchstart', reqFS);
  }
  document.addEventListener('click', reqFS, {once:true});
  document.addEventListener('touchstart', reqFS, {once:true, passive:true});
})();
</script>
</body>
</html>
